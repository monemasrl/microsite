<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode | default "it" }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{{ .Site.Data.content.maintenance.message | default "Sito in manutenzione" }}">
    <title>{{ .Site.Data.content.company.name | default .Site.Title }} - Manutenzione in Corso</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Styles -->
    <link rel="stylesheet" href="{{ "css/style.css" | relURL }}">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-logo">
                {{ if .Site.Data.content.company.logoUrl }}
                    <img src="{{ .Site.Data.content.company.logoUrl }}" alt="{{ .Site.Data.content.company.name }}" class="logo-img">
                {{ else }}
                    <img src="{{ "images/default-logo.svg" | relURL }}" alt="Logo" class="logo-img">
                {{ end }}
                <span class="logo-text">{{ .Site.Data.content.company.name }}</span>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Hero Section with Maintenance Message -->
        <section class="hero-section">
            <div class="hero-content container">
                <div class="hero-icon">
                    <i class="fas fa-tools"></i>
                </div>
                <h1 class="hero-title">{{ .Site.Data.content.maintenance.title | default "Sito in Manutenzione" }}</h1>
                <p class="hero-description">{{ .Site.Data.content.maintenance.message | default "Siamo al lavoro per migliorare la tua esperienza. Torneremo presto online!" }}</p>
                
                {{ if .Site.Data.content.maintenance.showProgress }}
                <div class="progress-section">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: {{ .Site.Data.content.maintenance.progress | default "45" }}%"></div>
                    </div>
                    <p class="progress-text">Progresso: {{ .Site.Data.content.maintenance.progress | default "45" }}%</p>
                </div>
                {{ end }}
            </div>
            
            <!-- Decorative Elements -->
            <div class="hero-decoration">
                <div class="decoration-circle circle-1"></div>
                <div class="decoration-circle circle-2"></div>
                <div class="decoration-circle circle-3"></div>
            </div>
        </section>

        <!-- Countdown Section -->
        {{ if .Site.Data.content.maintenance.estimatedEnd }}
        <section class="section countdown-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">{{ .Site.Data.content.maintenance.countdownTitle | default "Tempo Stimato di Recupero" }}</h2>
                    <div class="section-divider"></div>
                </div>
                <div class="countdown-wrapper">
                    <div class="countdown-display" id="countdown">
                        <div class="countdown-item">
                            <div class="countdown-value" id="days">0</div>
                            <div class="countdown-label">Giorni</div>
                        </div>
                        <div class="countdown-separator">:</div>
                        <div class="countdown-item">
                            <div class="countdown-value" id="hours">00</div>
                            <div class="countdown-label">Ore</div>
                        </div>
                        <div class="countdown-separator">:</div>
                        <div class="countdown-item">
                            <div class="countdown-value" id="minutes">00</div>
                            <div class="countdown-label">Minuti</div>
                        </div>
                        <div class="countdown-separator">:</div>
                        <div class="countdown-item">
                            <div class="countdown-value" id="seconds">00</div>
                            <div class="countdown-label">Secondi</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        {{ end }}

        <!-- Status Section -->
        {{ if .Site.Data.content.status }}
        <section class="section status-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">{{ .Site.Data.content.status.title | default "Stato dei Servizi" }}</h2>
                    <div class="section-divider"></div>
                </div>
                <div class="status-grid">
                    {{ range .Site.Data.content.status.services }}
                    <div class="status-item {{ .status }}">
                        <div class="status-indicator">
                            {{ if eq .status "operational" }}
                                <i class="fas fa-check-circle"></i>
                            {{ else if eq .status "maintenance" }}
                                <i class="fas fa-wrench"></i>
                            {{ else if eq .status "degraded" }}
                                <i class="fas fa-exclamation-triangle"></i>
                            {{ else }}
                                <i class="fas fa-times-circle"></i>
                            {{ end }}
                        </div>
                        <div class="status-info">
                            <h3 class="status-name">{{ .name }}</h3>
                            <p class="status-description">{{ .description }}</p>
                            <span class="status-badge">
                                {{ if eq .status "operational" }}Operativo
                                {{ else if eq .status "maintenance" }}Manutenzione
                                {{ else if eq .status "degraded" }}Degradato
                                {{ else }}Non Disponibile
                                {{ end }}
                            </span>
                        </div>
                    </div>
                    {{ end }}
                </div>
            </div>
        </section>
        {{ end }}

        <!-- Updates Section -->
        {{ if .Site.Data.content.updates }}
        <section class="section updates-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">{{ .Site.Data.content.updates.title | default "Aggiornamenti" }}</h2>
                    <div class="section-divider"></div>
                </div>
                <div class="updates-timeline">
                    {{ range .Site.Data.content.updates.items }}
                    <div class="update-item">
                        <div class="update-time">{{ .timestamp }}</div>
                        <div class="update-content">
                            <h3 class="update-title">{{ .title }}</h3>
                            <p class="update-description">{{ .description }}</p>
                        </div>
                    </div>
                    {{ end }}
                </div>
            </div>
        </section>
        {{ end }}

        <!-- Contact Section -->
        <section class="section contact-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">{{ .Site.Data.content.contact.title | default "Hai Bisogno di Aiuto?" }}</h2>
                    <p class="section-subtitle">{{ .Site.Data.content.contact.subtitle | default "Contattaci per informazioni urgenti" }}</p>
                    <div class="section-divider"></div>
                </div>
                <div class="contact-grid">
                    {{ if .Site.Data.content.contact.email }}
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-text">
                            <h4>Email</h4>
                            <a href="mailto:{{ .Site.Data.content.contact.email }}">{{ .Site.Data.content.contact.email }}</a>
                        </div>
                    </div>
                    {{ end }}
                    {{ if .Site.Data.content.contact.phone }}
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="contact-text">
                            <h4>Telefono</h4>
                            <a href="tel:{{ .Site.Data.content.contact.phone }}">{{ .Site.Data.content.contact.phone }}</a>
                        </div>
                    </div>
                    {{ end }}
                    {{ if .Site.Data.content.contact.supportUrl }}
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-life-ring"></i>
                        </div>
                        <div class="contact-text">
                            <h4>Supporto</h4>
                            <a href="{{ .Site.Data.content.contact.supportUrl }}" target="_blank" rel="noopener noreferrer">Centro Assistenza</a>
                        </div>
                    </div>
                    {{ end }}
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                {{ if or .Site.Data.content.social.facebook .Site.Data.content.social.twitter .Site.Data.content.social.instagram .Site.Data.content.social.linkedin .Site.Data.content.social.youtube .Site.Data.content.social.github }}
                <div class="footer-social">
                    {{ with .Site.Data.content.social.facebook }}
                    <a href="{{ . }}" target="_blank" rel="noopener noreferrer" class="footer-social-link" aria-label="Facebook">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    {{ end }}
                    {{ with .Site.Data.content.social.twitter }}
                    <a href="{{ . }}" target="_blank" rel="noopener noreferrer" class="footer-social-link" aria-label="Twitter">
                        <i class="fab fa-twitter"></i>
                    </a>
                    {{ end }}
                    {{ with .Site.Data.content.social.instagram }}
                    <a href="{{ . }}" target="_blank" rel="noopener noreferrer" class="footer-social-link" aria-label="Instagram">
                        <i class="fab fa-instagram"></i>
                    </a>
                    {{ end }}
                    {{ with .Site.Data.content.social.linkedin }}
                    <a href="{{ . }}" target="_blank" rel="noopener noreferrer" class="footer-social-link" aria-label="LinkedIn">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    {{ end }}
                    {{ with .Site.Data.content.social.youtube }}
                    <a href="{{ . }}" target="_blank" rel="noopener noreferrer" class="footer-social-link" aria-label="YouTube">
                        <i class="fab fa-youtube"></i>
                    </a>
                    {{ end }}
                    {{ with .Site.Data.content.social.github }}
                    <a href="{{ . }}" target="_blank" rel="noopener noreferrer" class="footer-social-link" aria-label="GitHub">
                        <i class="fab fa-github"></i>
                    </a>
                    {{ end }}
                </div>
                {{ end }}
                <div class="footer-text">
                    {{ if .Site.Data.content.footer.text }}
                    <p>{{ .Site.Data.content.footer.text | safeHTML }}</p>
                    {{ else }}
                    <p>&copy; {{ now.Year }} {{ .Site.Data.content.company.name | default .Site.Title }}. Tutti i diritti riservati.</p>
                    {{ end }}
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // Estimated end time from Hugo config
        {{ if .Site.Data.content.maintenance.estimatedEnd }}
        const estimatedEnd = new Date("{{ .Site.Data.content.maintenance.estimatedEnd }}").getTime();
        {{ else }}
        const estimatedEnd = null;
        {{ end }}
    </script>
    <script src="{{ "js/countdown.js" | relURL }}"></script>
</body>
</html>
